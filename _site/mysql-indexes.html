<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="chunpat">

    <title>Mysql 索引问题 - 小鹏的日志</title>

    <link rel="canonical" href="http://localhost:4000/mysql-indexes.html">

    <!-- Icons -->
  <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">小鹏的日志</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/About.html">About</a>
                </li>
                
                <li>
                    <a href="/Tools.html">Tools</a>
                </li>
                
                <li>
                    <a href="/tags.html">Tags</a>
                </li>
                

            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/fantasy.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="Tags">
                        
                        <a class="tag" href="/Tags/#mysql" title="mysql">mysql</a>
                        
                        <a class="tag" href="/Tags/#mysql-indexes" title="mysql-indexes">mysql-indexes</a>
                        
                    </div>
                    <h1>Mysql 索引问题</h1>
                    
                    <span class="meta">Posted by chunpat on August 6, 2020</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">

                <h2 id="问题">问题</h2>
<p>数据库慢日志突然爆炸，导致服务异常。排查了后语句没有什么异常，然后根据阿里云的rds性能监控可以看出流量突然激增。之后的几天也观察了下慢日志，慢日志时常
有出现。那只能改语句，删错误的索引和加正确的索引。然后就是限流这一块没做好，系统工作台前端这一块竟然可以无限F5。后端限流用的是nginx的限流，但是多人F5，
流量可以控制的住，但是数据库的瓶颈太快达到了，所以原因很复杂，只能一步一步优化。下面主要是研究索引的问题！</p>

<h2 id="建立联合索引要慎重">建立联合索引要慎重</h2>
<p>有非聚簇索引不用，为什么选择用聚簇索引了。有非聚簇索引复合索引和聚簇索引的情况下，非聚簇只命中了一个，order by的时候会优先选择id做排序，如下案例：</p>

<blockquote>
  <p>表结构</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="n">columns</span> <span class="k">from</span> <span class="n">sima_store_wallet_bill</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----------------------+---------------------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">Field</span>                <span class="o">|</span> <span class="k">Type</span>                <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="k">Key</span> <span class="o">|</span> <span class="k">Default</span> <span class="o">|</span> <span class="n">Extra</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+---------------------+------+-----+---------+----------------+</span>
<span class="o">|</span> <span class="n">id</span>                   <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>             <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">PRI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span> <span class="n">auto_increment</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">sn</span>                   <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>         <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">UNI</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">store_id</span>             <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>             <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">MUL</span> <span class="o">|</span> <span class="mi">0</span>       <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">source_id</span>            <span class="o">|</span> <span class="nb">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>             <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span> <span class="n">MUL</span> <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">source_type</span>          <span class="o">|</span> <span class="nb">tinyint</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>          <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">bill_type</span>            <span class="o">|</span> <span class="nb">tinyint</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>          <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">money</span>                <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">income_money</span>         <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">user_commission</span>      <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">poundage</span>             <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">platform_commission</span>  <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">wallet_money_before</span>  <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">wallet_money_after</span>   <span class="o">|</span> <span class="nb">decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>       <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span><span class="p">.</span><span class="mi">00</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="k">desc</span>                 <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>        <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">remark</span>               <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>        <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">create_time</span>          <span class="o">|</span> <span class="nb">timestamp</span>           <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">update_time</span>          <span class="o">|</span> <span class="nb">timestamp</span>           <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">delete_time</span>          <span class="o">|</span> <span class="nb">timestamp</span>           <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">account_type</span>         <span class="o">|</span> <span class="nb">tinyint</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="nb">unsigned</span> <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span>       <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">source_payment_model</span> <span class="o">|</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>         <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span>     <span class="o">|</span> <span class="k">NULL</span>    <span class="o">|</span>                <span class="o">|</span>
<span class="o">|</span> <span class="n">is_virtual</span>           <span class="o">|</span> <span class="nb">tinyint</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>          <span class="o">|</span> <span class="k">NO</span>   <span class="o">|</span>     <span class="o">|</span> <span class="mi">0</span>       <span class="o">|</span>                <span class="o">|</span>
<span class="o">+</span><span class="c1">----------------------+---------------------+------+-----+---------+----------------+</span>
<span class="mi">21</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>表索引</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">show</span> <span class="k">index</span> <span class="k">from</span> <span class="n">sima_store_wallet_bill</span><span class="p">;</span>
<span class="o">+</span><span class="c1">------------------------+------------+---------------------------------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
<span class="o">|</span> <span class="k">Table</span>                  <span class="o">|</span> <span class="n">Non_unique</span> <span class="o">|</span> <span class="n">Key_name</span>                                    <span class="o">|</span> <span class="n">Seq_in_index</span> <span class="o">|</span> <span class="k">Column_name</span> <span class="o">|</span> <span class="k">Collation</span> <span class="o">|</span> <span class="k">Cardinality</span> <span class="o">|</span> <span class="n">Sub_part</span> <span class="o">|</span> <span class="n">Packed</span> <span class="o">|</span> <span class="k">Null</span> <span class="o">|</span> <span class="n">Index_type</span> <span class="o">|</span> <span class="k">Comment</span> <span class="o">|</span> <span class="n">Index_comment</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+------------+---------------------------------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span> <span class="k">PRIMARY</span>                                     <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">id</span>          <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>     <span class="mi">1596400</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span> <span class="n">sn</span>                                          <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">sn</span>          <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>     <span class="mi">1596400</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">source_id_type</span>                              <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">source_id</span>   <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>     <span class="mi">1254391</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">source_id_type</span>                              <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span> <span class="n">source_type</span> <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>     <span class="mi">1596400</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span>            <span class="mi">1</span> <span class="o">|</span> <span class="n">store_id</span>    <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>        <span class="mi">1186</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span> <span class="n">is_virtual</span>  <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>        <span class="mi">1583</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span>      <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">delete_time</span> <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>        <span class="mi">1070</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span>          <span class="mi">1</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span>            <span class="mi">4</span> <span class="o">|</span> <span class="n">create_time</span> <span class="o">|</span> <span class="n">A</span>         <span class="o">|</span>     <span class="mi">1596400</span> <span class="o">|</span>     <span class="k">NULL</span> <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="n">YES</span>  <span class="o">|</span> <span class="n">BTREE</span>      <span class="o">|</span>         <span class="o">|</span>               <span class="o">|</span>
<span class="o">+</span><span class="c1">------------------------+------------+---------------------------------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------+</span>
<span class="mi">8</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>查询一，用主键id排序，用时0.7s</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span>
    <span class="o">-&gt;</span> <span class="k">FROM</span> <span class="nv">`sima_store_wallet_bill`</span>
    <span class="o">-&gt;</span> <span class="k">WHERE</span> <span class="nv">`store_id`</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="n">create_time</span> <span class="k">BETWEEN</span> <span class="s1">'2020-07-04 00:00:00'</span> <span class="k">AND</span> <span class="s1">'2020-07-04 23:59:59'</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="nv">`sima_store_wallet_bill`</span><span class="p">.</span><span class="nv">`delete_time`</span> <span class="k">IS</span> <span class="k">NULL</span>
    <span class="o">-&gt;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="nv">`id`</span> <span class="k">DESC</span>
    <span class="o">-&gt;</span> <span class="k">LIMIT</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="o">|</span> <span class="n">id</span>      <span class="o">|</span> <span class="n">sn</span>                   <span class="o">|</span> <span class="n">store_id</span> <span class="o">|</span> <span class="n">source_id</span> <span class="o">|</span> <span class="n">source_type</span> <span class="o">|</span> <span class="n">bill_type</span> <span class="o">|</span> <span class="n">money</span>  <span class="o">|</span> <span class="n">income_money</span> <span class="o">|</span> <span class="n">user_commission</span> <span class="o">|</span> <span class="n">poundage</span> <span class="o">|</span> <span class="n">platform_commission</span> <span class="o">|</span> <span class="n">wallet_money_before</span> <span class="o">|</span> <span class="n">wallet_money_after</span> <span class="o">|</span> <span class="k">desc</span>                                                                                                                                    <span class="o">|</span> <span class="n">remark</span> <span class="o">|</span> <span class="n">create_time</span>         <span class="o">|</span> <span class="n">update_time</span>         <span class="o">|</span> <span class="n">delete_time</span> <span class="o">|</span> <span class="n">account_type</span> <span class="o">|</span> <span class="n">source_payment_model</span> <span class="o">|</span> <span class="n">is_virtual</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="o">|</span> <span class="mi">1579963</span> <span class="o">|</span> <span class="n">F2020070422231584766</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388910</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">109</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">108</span><span class="p">.</span><span class="mi">59</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">41</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070449575597</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070449575597222313</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579959</span> <span class="o">|</span> <span class="n">F2020070422223991218</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388915</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">149</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">148</span><span class="p">.</span><span class="mi">43</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">57</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070452999952</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070452999952222237</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">39</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">39</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579800</span> <span class="o">|</span> <span class="n">F2020070421262758458</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388804</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">199</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">198</span><span class="p">.</span><span class="mi">24</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">76</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070410055575</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070410055575212625</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">13</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">13</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579483</span> <span class="o">|</span> <span class="n">F2020070419570341824</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388461</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">200</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">199</span><span class="p">.</span><span class="mi">24</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">76</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070497525351</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070497525351195701</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">03</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">03</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579408</span> <span class="o">|</span> <span class="n">F2020070419404976725</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657270</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">83</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">82</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070454579853</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">49</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">49</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579399</span> <span class="o">|</span> <span class="n">F2020070419391533637</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388568</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">180</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">179</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070456531009</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070456531009193904</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579358</span> <span class="o">|</span> <span class="n">F2020070419301089242</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388534</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070457984849</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070457984849193008</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579161</span> <span class="o">|</span> <span class="n">F2020070418415164426</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388449</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">180</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">179</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070456975550</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070456975550184149</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">10</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">10</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578672</span> <span class="o">|</span> <span class="n">F2020070417203183263</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657051</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">28</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">27</span><span class="p">.</span><span class="mi">89</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070455975455</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                     <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">31</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">31</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578565</span> <span class="o">|</span> <span class="n">F2020070417002922534</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657037</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>         <span class="mi">2</span><span class="p">.</span><span class="mi">99</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070457995751</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">29</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">29</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578362</span> <span class="o">|</span> <span class="n">F2020070416150453758</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388060</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">110</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">109</span><span class="p">.</span><span class="mi">58</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">42</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070498484999</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070498484999161501</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">04</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">04</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578300</span> <span class="o">|</span> <span class="n">F2020070415581150094</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388024</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">160</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">159</span><span class="p">.</span><span class="mi">39</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">61</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070449494850</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070449494850155809</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">07</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">07</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577924</span> <span class="o">|</span> <span class="n">F2020070414103717136</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387761</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070497565110</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070497565110141035</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">06</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">06</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577566</span> <span class="o">|</span> <span class="n">F2020070412151919919</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387424</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">125</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">125</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070410097549</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">现金支付</span>                                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">19</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">19</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span> <span class="n">cash</span>                 <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577497</span> <span class="o">|</span> <span class="n">F2020070411584244284</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1386294</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070349535056</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070349535056115840</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">03</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">42</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">03</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">42</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577245</span> <span class="o">|</span> <span class="n">F2020070410483598923</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387280</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">160</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">159</span><span class="p">.</span><span class="mi">39</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">61</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070452485453</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070452485453104833</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">02</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">35</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">02</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">35</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="mi">16</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>查询二，用非主键时间排序，用时0.02s</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span>
    <span class="o">-&gt;</span> <span class="k">FROM</span> <span class="nv">`sima_store_wallet_bill`</span>
    <span class="o">-&gt;</span> <span class="k">WHERE</span> <span class="nv">`store_id`</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="n">create_time</span> <span class="k">BETWEEN</span> <span class="s1">'2020-07-04 00:00:00'</span> <span class="k">AND</span> <span class="s1">'2020-07-04 23:59:59'</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="nv">`sima_store_wallet_bill`</span><span class="p">.</span><span class="nv">`delete_time`</span> <span class="k">IS</span> <span class="k">NULL</span>
    <span class="o">-&gt;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="nv">`create_time`</span> <span class="k">DESC</span>
    <span class="o">-&gt;</span> <span class="k">LIMIT</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="o">|</span> <span class="n">id</span>      <span class="o">|</span> <span class="n">sn</span>                   <span class="o">|</span> <span class="n">store_id</span> <span class="o">|</span> <span class="n">source_id</span> <span class="o">|</span> <span class="n">source_type</span> <span class="o">|</span> <span class="n">bill_type</span> <span class="o">|</span> <span class="n">money</span>  <span class="o">|</span> <span class="n">income_money</span> <span class="o">|</span> <span class="n">user_commission</span> <span class="o">|</span> <span class="n">poundage</span> <span class="o">|</span> <span class="n">platform_commission</span> <span class="o">|</span> <span class="n">wallet_money_before</span> <span class="o">|</span> <span class="n">wallet_money_after</span> <span class="o">|</span> <span class="k">desc</span>                                                                                                                                    <span class="o">|</span> <span class="n">remark</span> <span class="o">|</span> <span class="n">create_time</span>         <span class="o">|</span> <span class="n">update_time</span>         <span class="o">|</span> <span class="n">delete_time</span> <span class="o">|</span> <span class="n">account_type</span> <span class="o">|</span> <span class="n">source_payment_model</span> <span class="o">|</span> <span class="n">is_virtual</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="o">|</span> <span class="mi">1579963</span> <span class="o">|</span> <span class="n">F2020070422231584766</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388910</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">109</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">108</span><span class="p">.</span><span class="mi">59</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">41</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070449575597</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070449575597222313</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579959</span> <span class="o">|</span> <span class="n">F2020070422223991218</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388915</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">149</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">148</span><span class="p">.</span><span class="mi">43</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">57</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070452999952</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070452999952222237</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">39</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">14</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">39</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579800</span> <span class="o">|</span> <span class="n">F2020070421262758458</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388804</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">199</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">198</span><span class="p">.</span><span class="mi">24</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">76</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070410055575</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070410055575212625</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">13</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">13</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">27</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579483</span> <span class="o">|</span> <span class="n">F2020070419570341824</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388461</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">200</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">199</span><span class="p">.</span><span class="mi">24</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">76</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070497525351</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070497525351195701</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">03</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">03</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579408</span> <span class="o">|</span> <span class="n">F2020070419404976725</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657270</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">83</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">82</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070454579853</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">49</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">49</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579399</span> <span class="o">|</span> <span class="n">F2020070419391533637</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388568</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">180</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">179</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070456531009</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070456531009193904</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">15</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579358</span> <span class="o">|</span> <span class="n">F2020070419301089242</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388534</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070457984849</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070457984849193008</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">10</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1579161</span> <span class="o">|</span> <span class="n">F2020070418415164426</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388449</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">180</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">179</span><span class="p">.</span><span class="mi">32</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">68</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070456975550</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070456975550184149</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">10</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">10</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">51</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578672</span> <span class="o">|</span> <span class="n">F2020070417203183263</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657051</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">28</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">27</span><span class="p">.</span><span class="mi">89</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">11</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070455975455</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                     <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">31</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">31</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578565</span> <span class="o">|</span> <span class="n">F2020070417002922534</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>    <span class="mi">657037</span> <span class="o">|</span>           <span class="mi">2</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>         <span class="mi">2</span><span class="p">.</span><span class="mi">99</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">销售订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070457995751</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span>                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">29</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">29</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578362</span> <span class="o">|</span> <span class="n">F2020070416150453758</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388060</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">110</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">109</span><span class="p">.</span><span class="mi">58</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">42</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070498484999</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070498484999161501</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">04</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">08</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">04</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1578300</span> <span class="o">|</span> <span class="n">F2020070415581150094</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1388024</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">160</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">159</span><span class="p">.</span><span class="mi">39</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">61</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070449494850</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070449494850155809</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">07</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">07</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577924</span> <span class="o">|</span> <span class="n">F2020070414103717136</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387761</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070497565110</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070497565110141035</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">06</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">06</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577566</span> <span class="o">|</span> <span class="n">F2020070412151919919</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387424</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">125</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">125</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070410097549</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">现金支付</span>                                                                       <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">19</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">04</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">19</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">2</span> <span class="o">|</span> <span class="n">cash</span>                 <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577497</span> <span class="o">|</span> <span class="n">F2020070411584244284</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1386294</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span>  <span class="mi">80</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>        <span class="mi">79</span><span class="p">.</span><span class="mi">70</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">30</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070349535056</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉支付宝支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070349535056115840</span>                               <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">03</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">42</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">03</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">42</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_alipay</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">1577245</span> <span class="o">|</span> <span class="n">F2020070410483598923</span> <span class="o">|</span>       <span class="mi">41</span> <span class="o">|</span>   <span class="mi">1387280</span> <span class="o">|</span>           <span class="mi">1</span> <span class="o">|</span>         <span class="mi">1</span> <span class="o">|</span> <span class="mi">160</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>       <span class="mi">159</span><span class="p">.</span><span class="mi">39</span> <span class="o">|</span>            <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">61</span> <span class="o">|</span>                <span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="o">|</span>            <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span>           <span class="mi">22562</span><span class="p">.</span><span class="mi">40</span> <span class="o">|</span> <span class="err">流水类型</span><span class="p">:</span><span class="err">维修订单支付</span><span class="p">,</span><span class="err">订单编号</span><span class="p">:</span><span class="mi">2020070452485453</span><span class="p">,</span><span class="err">支付类型</span><span class="p">:</span><span class="err">拉卡拉微信支付</span><span class="p">,</span><span class="err">支付单号</span><span class="p">:</span><span class="mi">2020070452485453104833</span>                                 <span class="o">|</span> <span class="k">NULL</span>   <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">02</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">35</span> <span class="o">|</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">04</span> <span class="mi">02</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">35</span> <span class="o">|</span> <span class="k">NULL</span>        <span class="o">|</span>            <span class="mi">3</span> <span class="o">|</span> <span class="n">lakala_wechat</span>        <span class="o">|</span>          <span class="mi">0</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">---------+----------------------+----------+-----------+-------------+-----------+--------+--------------+-----------------+----------+---------------------+---------------------+--------------------+-----------------------------------------------------------------------------------------------------------------------------------------+--------+---------------------+---------------------+-------------+--------------+----------------------+------------+</span>
<span class="mi">16</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">02</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>用explain分析，竟然分析出id排序的用了主键id做索引，然后在找store_id的值等于41的，这样想起慢也是有原因的。</p>
</blockquote>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">explain</span> <span class="k">SELECT</span> <span class="o">*</span>
    <span class="o">-&gt;</span> <span class="k">FROM</span> <span class="nv">`sima_store_wallet_bill`</span>
    <span class="o">-&gt;</span> <span class="k">WHERE</span> <span class="nv">`store_id`</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="n">create_time</span> <span class="k">BETWEEN</span> <span class="s1">'2020-07-04 00:00:00'</span> <span class="k">AND</span> <span class="s1">'2020-07-04 23:59:59'</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="nv">`sima_store_wallet_bill`</span><span class="p">.</span><span class="nv">`delete_time`</span> <span class="k">IS</span> <span class="k">NULL</span>
    <span class="o">-&gt;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="nv">`id`</span> <span class="k">DESC</span>
    <span class="o">-&gt;</span> <span class="k">LIMIT</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+-------+---------------------------------------------+---------+---------+------+------+----------+-------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span>                  <span class="o">|</span> <span class="n">partitions</span> <span class="o">|</span> <span class="k">type</span>  <span class="o">|</span> <span class="n">possible_keys</span>                               <span class="o">|</span> <span class="k">key</span>     <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="k">rows</span> <span class="o">|</span> <span class="n">filtered</span> <span class="o">|</span> <span class="n">Extra</span>       <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+-------+---------------------------------------------+---------+---------+------+------+----------+-------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span> <span class="k">NULL</span>       <span class="o">|</span> <span class="k">index</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span> <span class="k">PRIMARY</span> <span class="o">|</span> <span class="mi">4</span>       <span class="o">|</span> <span class="k">NULL</span> <span class="o">|</span> <span class="mi">1845</span> <span class="o">|</span>     <span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">where</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+-------+---------------------------------------------+---------+---------+------+------+----------+-------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">explain</span> <span class="k">SELECT</span> <span class="o">*</span>
    <span class="o">-&gt;</span> <span class="k">FROM</span> <span class="nv">`sima_store_wallet_bill`</span>
    <span class="o">-&gt;</span> <span class="k">WHERE</span> <span class="nv">`store_id`</span> <span class="k">IN</span> <span class="p">(</span><span class="mi">41</span><span class="p">)</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="n">create_time</span> <span class="k">BETWEEN</span> <span class="s1">'2020-07-04 00:00:00'</span> <span class="k">AND</span> <span class="s1">'2020-07-04 23:59:59'</span>
    <span class="o">-&gt;</span> <span class="k">AND</span> <span class="nv">`sima_store_wallet_bill`</span><span class="p">.</span><span class="nv">`delete_time`</span> <span class="k">IS</span> <span class="k">NULL</span>
    <span class="o">-&gt;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="nv">`create_time`</span> <span class="k">DESC</span>
    <span class="o">-&gt;</span> <span class="k">LIMIT</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+------+---------------------------------------------+---------------------------------------------+---------+-------+-------+----------+---------------------------------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">select_type</span> <span class="o">|</span> <span class="k">table</span>                  <span class="o">|</span> <span class="n">partitions</span> <span class="o">|</span> <span class="k">type</span> <span class="o">|</span> <span class="n">possible_keys</span>                               <span class="o">|</span> <span class="k">key</span>                                         <span class="o">|</span> <span class="n">key_len</span> <span class="o">|</span> <span class="k">ref</span>   <span class="o">|</span> <span class="k">rows</span>  <span class="o">|</span> <span class="n">filtered</span> <span class="o">|</span> <span class="n">Extra</span>                                 <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+------+---------------------------------------------+---------------------------------------------+---------+-------+-------+----------+---------------------------------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">SIMPLE</span>      <span class="o">|</span> <span class="n">sima_store_wallet_bill</span> <span class="o">|</span> <span class="k">NULL</span>       <span class="o">|</span> <span class="k">ref</span>  <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span> <span class="n">idx_storeid_isvirtual_deletetime_createtime</span> <span class="o">|</span> <span class="mi">4</span>       <span class="o">|</span> <span class="n">const</span> <span class="o">|</span> <span class="mi">17302</span> <span class="o">|</span>     <span class="mi">1</span><span class="p">.</span><span class="mi">11</span> <span class="o">|</span> <span class="k">Using</span> <span class="k">index</span> <span class="n">condition</span><span class="p">;</span> <span class="k">Using</span> <span class="n">filesort</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+------------------------+------------+------+---------------------------------------------+---------------------------------------------+---------+-------+-------+----------+---------------------------------------+</span>
<span class="mi">1</span> <span class="k">row</span> <span class="k">in</span> <span class="k">set</span><span class="p">,</span> <span class="mi">1</span> <span class="n">warning</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">总结：这个表的索引idx_storeid_isvirtual_deletetime_createtime 有问题。
第一，isvirtual的值只有1，0，而多数查询的时候只需isvirtual = 0和所有，所以没必要建立索引；
第二，delete_time软删除字段，一般都是`delete_time` IS NULL，故不需要加索引，所以修改索引字段idx_storeid_createtime</code></p>

<h2 id="explain-参数key_len来检验联合索引字段使用">explain 参数key_len来检验联合索引字段使用</h2>
<p>如上面的例子，最后用explain分析使用字段情况，key都为4。这个怎么计算的呢？一个整形占用四个字节，所以为4，也就是idx_storeid_isvirtual_deletetime_createtime索引
只用到了store_id这个字段。另外提示下，是字符串的话，如果选用了utf8，就是占用三个字节。还有可为空字段，带有null，要多占用一个字节存储。</p>

<h2 id="索引字段当条件类型要符合整形例外">索引字段当条件类型要符合，整形例外。</h2>
<p>如你在整形int上建立索引，你可以字符串当搜索条件，如store_id = ‘1’,这样是可以用到索引的。但是如果是字符串上建立索引，用整形当搜索条件是无效的，
如transaction_id = 1234567890。</p>

<h2 id="字符串索引长度太长记得加长度限制节省存储空间">字符串索引长度太长记得加长度限制，节省存储空间。</h2>
<p>如下,支付记录的第三方交易号transaction_id加索引，字段设置默认255。支付宝回调30个数字，微信28个，所以这里长度冗余了5个设置为35，操作如下：</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="nv">`sima_shop_order_payment`</span> 
	<span class="k">ADD</span> <span class="k">KEY</span> <span class="nv">`idx_transactionid`</span><span class="p">(</span><span class="nv">`transaction_id`</span><span class="p">(</span><span class="mi">35</span><span class="p">))</span> <span class="k">USING</span> <span class="n">BTREE</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="count-优化">count(*) 优化</h2>
<p>在innodb引擎中，count(*)会全表扫描一个一个计算。所以表大的时候select count(*) from table最好少点使用，取而代之的可以默认加上时间条件
筛选。实在不行要弄个计数表额外统计，有点麻烦。</p>

<h2 id="感谢">感谢</h2>
<p>感谢v2网友们的帮助：<a href="https://www.v2ex.com/t/695266">大佬们求救，慢 SQL 问题</a></p>

<h2 id="迭代">迭代</h2>
<ul>
  <li>2020年08月06日 15:45:44 初稿</li>
  <li>2020年08月24日 17:12:44 修改</li>
</ul>

<h2 id="参考">参考：</h2>
<ul>
  <li>1、<a href="cnblogs.com/gomysql/p/4004244.html">explain之key_len计算</a></li>
  <li>2、<a href="https://blog.csdn.net/CSDNcircular/article/details/107253747?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param">MySQL带时间字段的范围查询不走索引了？_ＬａｍｂｅｒｔＣＯＬ的博客-CSDN博客_mysql时间范围查询不走索引</a></li>
  <li>3、<a href="https://www.cnblogs.com/shynshyn/p/7887742.html">MySQL索引失效的几种情况 - 且过 - 博客园</a></li>
</ul>


                <hr>

                <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>进行许可。转载，请注明原作者 chunpat 及本文源链接。

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/spu-sku.html" data-toggle="tooltip" data-placement="top" title="SPU & SKU">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/mysql-recovery.html" data-toggle="tooltip" data-placement="top" title="Mysql 逻辑数据恢复">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- Utteranc -->

                <script src="https://utteranc.es/client.js"
                        repo="fromChinaBoy/fromChinaBoy.github.io"
                        issue-term="pathname"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                </script>
                <!-- Share botton -->
                <!-- Go to www.addthis.com/dashboard to customize your tools --> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5caaedc5f9567124"></script>

            </div>
        </div>
     </div>
  </article>
</script>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>

  
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <!-- kill the Facebook and Weibo -->
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://twitter.com/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    <li>
                        <a href="https://github.com/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <!--
                    
                    <li>
                        <a href="http://www.douban.com/people/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-douban fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    <!--
                    
                    <li>
                        <a href="https://www.facebook.com/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    

                    <!--
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/chunpat">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    -->

                </ul>
                <p class="copyright text-muted">
                    &copy; 2011~2024 chunpat ♪ Powered by Jekyll. <a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备17053344号</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>




<!-- Highlight.js -->
<!--<script>-->
    <!--async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js",function(){-->
        <!--hljs.initHighlightingOnLoad();-->
    <!--})-->
<!--</script>-->
<!--<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">-->


</body>

</html>